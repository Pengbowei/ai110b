# 爬山演算法
一直朝向最優方向尋找最優解，當前後都無法再更優化(類似爬山，逐漸爬到山頂)時則停止尋找並回傳最優解。

## 一個變數
* 程式範例：
```py
# 簡易爬山演算法 -- 針對單變數函數
def hillClimbing(f, x, dx=0.01):
    while (True):
        print('x={0:.3f} f(x)={1:.3f}'.format(x, f(x)))
        if f(x+dx)>f(x): # 如果右邊的高度 f(x+dx) > 目前高度 f(x) ，那麼就往右走
            x = x + dx
        elif f(x-dx)>f(x): # 如果左邊的高度 f(x-dx) > 目前高度 f(x) ，那麼就往左走
            x = x - dx
        else: # 如果兩邊都沒有比現在的 f(x) 高，那麼這裡就是區域最高點，直接中斷傳回
            break
    return x

# 高度函數
def f(x):
    return -1*(x*x-2*x+1)
    # return -1*(x*x+3*x+5)
    # return -1*abs(x*x-4)

hillClimbing(f, 0) # 以 x=0 為起點，開始呼叫爬山演算法
```

* Result：<br>
只要前後不是最優解，就繼續下尋找。
```
(base) peng@pengbaiweis-MacBook-Pro 02-optimize % python3 hillClimbing1.py 
x=0.000 f(x)=-1.000
x=0.010 f(x)=-0.980
x=0.020 f(x)=-0.960
x=0.030 f(x)=-0.941
x=0.040 f(x)=-0.922
x=0.050 f(x)=-0.902
x=0.060 f(x)=-0.884
x=0.070 f(x)=-0.865
x=0.080 f(x)=-0.846
x=0.090 f(x)=-0.828
x=0.100 f(x)=-0.810
x=0.110 f(x)=-0.792
x=0.120 f(x)=-0.774
...
x=0.910 f(x)=-0.008
x=0.920 f(x)=-0.006
x=0.930 f(x)=-0.005
x=0.940 f(x)=-0.004
x=0.950 f(x)=-0.002
x=0.960 f(x)=-0.002
x=0.970 f(x)=-0.001
x=0.980 f(x)=-0.000
x=0.990 f(x)=-0.000
x=1.000 f(x)=-0.000
```
* 爬山演算法僅能找到局部最優解，無法找到全域最佳解。
* 從 x = 0 為起點找出函數 -x<sup>2</sup> - 3x - 5y 最高點

### 兩個變數：
* 程式範例：
```py
import random

def hillClimbing(f, x, y, h=0.01):
    while (True):
        fxy = f(x, y)
        print('x={0:.3f} y={1:.3f} f(x,y)={2:.3f}'.format(x, y, fxy))
        if f(x+h, y) >= fxy:
            x = x + h
        elif f(x-h, y) >= fxy:
            x = x - h
        elif f(x, y+h) >= fxy:
            y = y + h
        elif f(x, y-h) >= fxy:
            y = y - h
        else:
            break
    return (x,y,fxy)

def f(x, y):
    return -1 * ( x*x - 2*x + y*y + 2*y - 8 )

hillClimbing(f, 0, 0)
```

* Result：<br>
```
x=0.000 y=0.000 f(x,y)=8.000
x=0.010 y=0.000 f(x,y)=8.020
x=0.020 y=0.000 f(x,y)=8.040
x=0.030 y=0.000 f(x,y)=8.059
x=0.040 y=0.000 f(x,y)=8.078
x=0.050 y=0.000 f(x,y)=8.098
x=0.060 y=0.000 f(x,y)=8.116
x=0.070 y=0.000 f(x,y)=8.135
x=0.080 y=0.000 f(x,y)=8.154
x=0.090 y=0.000 f(x,y)=8.172
x=0.100 y=0.000 f(x,y)=8.190
x=0.110 y=0.000 f(x,y)=8.208
x=0.120 y=0.000 f(x,y)=8.226
x=0.130 y=0.000 f(x,y)=8.243
x=0.140 y=0.000 f(x,y)=8.260
x=0.150 y=0.000 f(x,y)=8.277
x=0.160 y=0.000 f(x,y)=8.294
x=0.170 y=0.000 f(x,y)=8.311
x=0.180 y=0.000 f(x,y)=8.328
x=0.190 y=0.000 f(x,y)=8.344
x=0.200 y=0.000 f(x,y)=8.360
x=0.210 y=0.000 f(x,y)=8.376
x=0.220 y=0.000 f(x,y)=8.392
x=0.230 y=0.000 f(x,y)=8.407
x=0.240 y=0.000 f(x,y)=8.422
...
x=1.000 y=-0.970 f(x,y)=9.999
x=1.000 y=-0.980 f(x,y)=10.000
x=1.000 y=-0.990 f(x,y)=10.000
x=1.000 y=-1.000 f(x,y)=10.000
```
* 把上下左右四個方向都試一遍，再決定往哪個方向移動。
* 從 x = 0 , y = 0為起點找出函數 -x<sup>2</sup> + 2x - y<sup>2</sup> - 2y + 8 的最高點，也就是 x<sup>2</sup> - 2x + y<sup>2</sup> + 2y - 8 的最低點。

---
